(this.webpackJsonpvrp_spawn=this.webpackJsonpvrp_spawn||[]).push([[0],{104:function(e,t,c){},105:function(e,t,c){"use strict";c.r(t);var n=c(3),a=c(0),s=c(18),r=c(5),i=c(120),o=c(127),l=c(119),j=c(122),d=c(125),b=c(126),h=c(121),m=c(34),O=c(58),u=c(35),x=c(57),p=c(30),v=c(114),f=c(115),g=c(116),C=function(e){var t=e.label,c=(e.size,Object(x.a)(e,["label","size"])),a=Object(m.d)(c),s=Object(r.a)(a,2),i=s[0],o=s[1].error;return Object(n.jsxs)(p.a,{isInvalid:!!o,children:[Object(n.jsx)(v.a,{htmlFor:i.name,children:t}),Object(n.jsx)(f.a,Object(u.a)(Object(u.a)(Object(u.a)({},i),c),{},{id:i.name})),o?Object(n.jsx)(g.a,{children:o}):null]})},S=c(117),y=function(e){var t=e.label,c=(e.size,Object(x.a)(e,["label","size"])),a=Object(m.d)(c),s=Object(r.a)(a,1)[0];return Object(n.jsxs)(p.a,{children:[Object(n.jsx)(v.a,{htmlFor:s.name,children:t}),Object(n.jsxs)(m.a,Object(u.a)(Object(u.a)(Object(u.a)({as:S.a},s),c),{},{id:s.name,children:[Object(n.jsx)("option",{value:"M",children:"Masculino"}),Object(n.jsx)("option",{value:"F",children:"Feminino"})]}))]})},N=function(e){var t=e.id,c=e.bank,s=e.name,i=e.name2,o=e.loading,u=e.setChars,x=e.setLoading,p=Object(j.a)(),v=Object(a.useState)(!1),f=Object(r.a)(v,2),g=f[0],S=f[1],N=Object(a.useState)(!1),w=Object(r.a)(N,2),k=w[0],z=w[1];return Object(n.jsxs)(n.Fragment,{children:[o?Object(n.jsx)(O.a,{children:Object(n.jsx)("div",{className:"character",children:Object(n.jsx)(d.a,{m:"auto",size:"xl",speed:"0.65s",thickness:"4px",color:"blue.500",isIndeterminate:!0})})}):t?Object(n.jsx)(O.a,{children:Object(n.jsxs)("div",{className:"character",children:[Object(n.jsxs)("div",{className:"info",children:[Object(n.jsxs)("div",{className:"name",children:["#",t," ",s," ",i]}),Object(n.jsxs)("div",{className:"bank",children:["Banco:",Object(n.jsxs)("div",{className:"detail",children:["$",c]})]})]}),Object(n.jsxs)("div",{className:"actions",children:[Object(n.jsx)(b.a,{size:"sm",onClick:function(){document.getElementById("root").style.display="none",fetch("http://vrp_spawn/CharacterChosen",{method:"POST",body:JSON.stringify({id:t})})},children:"Jogar"}),Object(n.jsx)(b.a,{size:"sm",onClick:function(){return z(!0)},children:"Deletar"})]})]})}):Object(n.jsx)(O.a,{children:Object(n.jsx)("div",{className:"character empty",onClick:function(){return S(!0)},children:"Novo Personagem"})}),Object(n.jsxs)(h.a,{isOpen:k,onClose:function(){return z(!1)},size:"xl",motionPreset:"slideInBottom",children:[Object(n.jsx)(h.g,{}),Object(n.jsxs)(h.d,{children:[Object(n.jsx)(h.f,{children:"Deletando Personagem"}),Object(n.jsx)(h.c,{}),Object(n.jsxs)(h.b,{children:["Tem certeza que deseja deletar o personagem ",s," ",i,"?"]}),Object(n.jsxs)(h.e,{children:[Object(n.jsx)(b.a,{name:"submit",type:"submit",colorScheme:"green",mr:2,onClick:function(){x(!0),z(!1),fetch("http://vrp_spawn/DeleteCharacter",{method:"POST",body:JSON.stringify({id:t})}).then((function(e){return e.json()})).then((function(e){p({title:"Personagem Deletado.",description:"O personagem ".concat(s," ").concat(i," foi deletado com sucesso."),status:"success",duration:9e3,isClosable:!0}),x(!1),u(e)})).catch((function(e){return console.error(e)}))},children:"Deletar"}),Object(n.jsx)(b.a,{colorScheme:"red",onClick:function(){return z(!1)},children:"Cancelar"})]})]})]}),Object(n.jsxs)(h.a,{size:"xl",isOpen:g,onClose:function(){return S(!1)},motionPreset:"slideInBottom",children:[Object(n.jsx)(h.g,{}),Object(n.jsxs)(h.d,{children:[Object(n.jsx)(h.f,{children:"Criando Personagem"}),Object(n.jsx)(h.c,{}),Object(n.jsx)(h.b,{children:Object(n.jsx)(m.c,{initialValues:{name:"",name2:"",gender:""},onSubmit:function(e){var t=e.name,c=e.name2,n=e.gender;S(!1),document.getElementById("root").style.display="none",fetch("http://vrp_spawn/CharacterCreated",{method:"POST",body:JSON.stringify({name:t,name2:c,sex:n})})},children:Object(n.jsxs)(m.b,{children:[Object(n.jsx)(l.a,{mb:4,children:Object(n.jsx)(C,{name:"name",placeholder:"Nome",label:"Nome",required:!0})}),Object(n.jsx)(l.a,{mb:4,children:Object(n.jsx)(C,{name:"name2",placeholder:"Sobrenome",label:"Sobrenome",required:!0})}),Object(n.jsx)(y,{label:"Sexo",name:"gender",placeholder:"Sexo",required:!0}),Object(n.jsxs)(h.e,{pr:0,children:[Object(n.jsx)(b.a,{name:"submit",type:"submit",colorScheme:"green",mr:2,children:"Criar"}),Object(n.jsx)(b.a,{colorScheme:"red",onClick:function(){return S(!1)},children:"Cancelar"})]})]})})})]})]})]})},w=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),c=t[0],j=t[1],d=Object(a.useState)(!0),b=Object(r.a)(d,2),h=b[0],m=b[1],O=Object(a.useCallback)((function(e){switch(e.data.action){case"show":document.getElementById("root").style.display="block"}}),[]);return Object(a.useEffect)((function(){return fetch("http://vrp_spawn/GetCharacters",{method:"POST"}).then((function(e){return e.json()})).then((function(e){j(Object(s.a)(e)),m(!1)})).catch((function(e){return console.error(e)})),window.addEventListener("message",O),function(){window.removeEventListener("message",O)}}),[]),Object(n.jsxs)(i.a,{id:"characters",children:[Object(n.jsxs)(o.a,{className:"characters-stack",children:[Object(n.jsx)(l.a,{className:"name",children:""}),Object(n.jsx)(l.a,{className:"onboarding",children:""})]}),Object(n.jsx)("div",{className:"characters-grid",children:[0,1,2,3].map((function(e,t){var a,s,r,i;return Object(n.jsx)(N,{loading:h,id:null===(a=c[t])||void 0===a?void 0:a.id,setChars:j,setLoading:m,name:null===(s=c[t])||void 0===s?void 0:s.name,name2:null===(r=c[t])||void 0===r?void 0:r.name2,bank:null===(i=c[t])||void 0===i?void 0:i.bank},t)}))})]})},k=c(32),z=c(123);c(104);Object(k.render)(Object(n.jsx)(z.a,{resetCSS:!0,children:Object(n.jsx)(w,{})}),document.getElementById("root"))}},[[105,1,2]]]);
//# sourceMappingURL=main.f9bcb964.chunk.js.map